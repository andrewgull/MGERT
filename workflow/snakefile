from snakemake.io import touch, directory, temp, expand

configfile: "config.yaml"
# command to run the pipeline on 14 threads and 10Gb of RAM:
# snakemake --use-conda --cores 14 --resources mem_mb=10000

rule all:
    input:
        expand("results/final/{genome}_all.done", strain=config['genomes'])

rule repeat_modeler_database:
    input:
        ""
rule rename_scaffolds:
    input: ""
    output: "resources/assemblies/{genome}/ref.fa"
    shell: "awk '/^>/{print \">sc\" ++i; next}{print}' < {input} > {output}"
rule repeat_modeler:
    input:
        "resources/assemblies/{genome}.fna"
    output:
        "results/repeatmodeler/{genome}/consesni.fa"
    shell:
        ""

